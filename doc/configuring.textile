---
layout: page
title: Configuring the Playground
---

Vanity will work out of the box on a default configuration.  Assuming you're using Redis on localhost, post 6379, there's nothing special to do.

h3(#runtime). Runtime Options

When "running under Rails":rails.html, Vanity defaults to using the Rails logger, locates the load_path relative to Rails root, uses the @config/vanity.yml@ configuration file (if present).

If you run a different setup, use the playground object to configure Vanity.  For example:

<pre>
Vanity.playground.load_path = "exp"
Vanity.playground.use_js!
</pre>

Available configuration options are:

|_. name      |_. Is all about ...                      |_. Default      |
| load_path   | Directory containing experiment files   | experiments    |
| logger      | This should be obvious                  | default/Rails  |
| collecting  | False if you won't want data collected  | true           |


h3(#datastore). Datastore Connection

Datastore connection information is loaded from @config/vanity.yml@, based on the current environment (@RACK_ENV@ or @RAILS_ENV@). Example:

<pre>
development:
  adapter: redis
  connection: redis://localhost:6379/0
test:
  collecting: false
production:
  adapter: mongodb
  database: analytics
</pre>

If there's no configuration file and the application does not create a connection explicitly, Vanity will default to the Redis instance running on @localhost@ at port 6379.

To specify a connection, set the @adapter@ option. The available database adapters are:

* +redis+ -- This adapter is used by default. Available options are connection and password.
* +mongodb+ -- Available options are host, port, database (defaults to "vanity"), username and password.
* +active_record+ -- To use the existing ActiveRecord default configuration and connnection don't specify other options. You can use a separate connection by setting +active_record_adapter+ to something other than @default@, for example @postgres@, and specifying the needed ActiveRecord options like @database@, @host@, @user@, @password@, etc. See "the Rails Guides":http://guides.rubyonrails.org/configuring.html#configuring-a-database for more information.

<pre>
Vanity.playground.establish_connection "redis://db.example.com"
</pre>
